<?xml version="1.0" encoding="UTF-8"?>
<Schema name="CCRS" metamodelVersion="4.0"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="mondrian.xsd">
    <Annotations>
        <Annotation name="desc">Cube Schema for CCRS</Annotation>
    </Annotations>

    <PhysicalSchema>
        <!-- Used by Agency which has 90% of all categories-->
        <Table name="CATEGORY">
            <Key>
                <Column name="ID"/>
            </Key>
        </Table>

        <Query alias="BASE_COUNTRY">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[select ISO2, REGION, NAME from BASE_COUNTRY, CATEGORY where BASE_COUNTRY.ISO2 = CATEGORY.COUNTRY AND DTYPE = 'CountryRegion' and REGION <> 'Uncategorized']]>
                </SQL>
            </ExpressionView>
        </Query>

        <Query alias="WorkstreamSection">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[SELECT ID, LABEL FROM CATEGORY WHERE DTYPE='WorkstreamSection']]>
                </SQL>
            </ExpressionView>
        </Query>

        <Query alias="UNAgency">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[SELECT ID, LABEL FROM CATEGORY WHERE DTYPE='UNAgency']]>
                </SQL>
            </ExpressionView>
        </Query>

        <Query alias="RepresentativePostLevelCategory">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[SELECT ID, LABEL FROM CATEGORY WHERE DTYPE='RepresentativePostLevel']]>
                </SQL>
            </ExpressionView>
        </Query>

        <Query alias="OfficeType">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[SELECT ID, LABEL FROM CATEGORY WHERE DTYPE='OfficeType']]>
                </SQL>
            </ExpressionView>
        </Query>

        <Query alias="ManagementModality">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[SELECT ID, LABEL FROM CATEGORY WHERE DTYPE='ManagementModality']]>
                </SQL>
            </ExpressionView>
        </Query>

        <Query alias="Level">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[SELECT ID, LABEL FROM CATEGORY WHERE DTYPE='Level']]>
                </SQL>
            </ExpressionView>
        </Query>

        <Query alias="BusinessOperationArea">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[SELECT ID, LABEL FROM CATEGORY WHERE DTYPE='BusinessOperationArea']]>
                </SQL>
            </ExpressionView>
        </Query>

        <Query alias="ContractModality">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[SELECT ID, LABEL FROM CATEGORY WHERE DTYPE='ContractModality']]>
                </SQL>
            </ExpressionView>
        </Query>

        <Query alias="Sector">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[SELECT ID, LABEL FROM CATEGORY WHERE DTYPE='Sector']]>
                </SQL>
            </ExpressionView>
        </Query>

        <Query alias="UNHRTreatyBody">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[SELECT ID, LABEL FROM CATEGORY WHERE DTYPE='UNHRTreatyBody']]>
                </SQL>
            </ExpressionView>
        </Query>

        <Query alias="Scorecard">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[SELECT ID, LABEL FROM CATEGORY WHERE DTYPE='Scorecard']]>
                </SQL>
            </ExpressionView>
        </Query>

        <Query alias="GenderEqualityRating">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[SELECT ID, LABEL FROM CATEGORY WHERE DTYPE='GenderEqualityRating']]>
                </SQL>
            </ExpressionView>
        </Query>

        <Query alias="SOP1q">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[SELECT ID, LABEL FROM CATEGORY WHERE DTYPE='DaoSOPsImplementingLevel']]>
                </SQL>
            </ExpressionView>
        </Query>

        <Query alias="SOP2q">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[SELECT ID, LABEL FROM CATEGORY WHERE DTYPE='DaoSOPsImplementingLevel']]>
                </SQL>
            </ExpressionView>
        </Query>

        <Query alias="SOP3q">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[SELECT ID, LABEL FROM CATEGORY WHERE DTYPE='DaoSOPsImplementingLevel']]>
                </SQL>
            </ExpressionView>
        </Query>

        <Query alias="SOP4q">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[SELECT ID, LABEL FROM CATEGORY WHERE DTYPE='DaoSOPsImplementingLevel']]>
                </SQL>
            </ExpressionView>
        </Query>

        <Query alias="SOP5q">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[SELECT ID, LABEL FROM CATEGORY WHERE DTYPE='DaoSOPsImplementingLevel']]>
                </SQL>
            </ExpressionView>
        </Query>

        <Query alias="SOP6q">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[SELECT ID, LABEL FROM CATEGORY WHERE DTYPE='DaoSOPsImplementingLevel']]>
                </SQL>
            </ExpressionView>
        </Query>

        <Query alias="SOP7q">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[SELECT ID, LABEL FROM CATEGORY WHERE DTYPE='DaoSOPsImplementingLevel']]>
                </SQL>
            </ExpressionView>
        </Query>

        <Query alias="SOP8q">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[SELECT ID, LABEL FROM CATEGORY WHERE DTYPE='DaoSOPsImplementingLevel']]>
                </SQL>
            </ExpressionView>
        </Query>

        <Query alias="SOP9q">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[SELECT ID, LABEL FROM CATEGORY WHERE DTYPE='DaoSOPsImplementingLevel']]>
                </SQL>
            </ExpressionView>
        </Query>

        <Query alias="SOP10q">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[SELECT ID, LABEL FROM CATEGORY WHERE DTYPE='DaoSOPsImplementingLevel']]>
                </SQL>
            </ExpressionView>
        </Query>

        <Query alias="SOP11q">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[SELECT ID, LABEL FROM CATEGORY WHERE DTYPE='DaoSOPsImplementingLevel']]>
                </SQL>
            </ExpressionView>
        </Query>

        <Query alias="SOP12q">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[SELECT ID, LABEL FROM CATEGORY WHERE DTYPE='DaoSOPsImplementingLevel']]>
                </SQL>
            </ExpressionView>
        </Query>

        <Query alias="SOP13q">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[SELECT ID, LABEL FROM CATEGORY WHERE DTYPE='DaoSOPsImplementingLevel']]>
                </SQL>
            </ExpressionView>
        </Query>

        <Query alias="SOP14q">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[SELECT ID, LABEL FROM CATEGORY WHERE DTYPE='DaoSOPsImplementingLevel']]>
                </SQL>
            </ExpressionView>
        </Query>

        <Query alias="SOP15q">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[SELECT ID, LABEL FROM CATEGORY WHERE DTYPE='DaoSOPsImplementingLevel']]>
                </SQL>
            </ExpressionView>
        </Query>

        <Query alias="CP1UnctMember">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[select M.*, CP1.DESIGNATION, CP1.ENTITY_YEAR  from CP1UNCTMEMBER M, CP1GENERAL_PROFILE CP1 WHERE M.PARENT_ID=CP1.ID and CP1.WORKFLOW='VALIDATED' AND CP1.DESIGNATION!='AQ']]>
                </SQL>
            </ExpressionView>
        </Query>

        <Query alias="CP2RcoStaffMemberDetail">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[select D.*, CP2.DESIGNATION, CP2.ENTITY_YEAR FROM CP2RCO_STAFF_MEMBER_DETAIL D,  CP2COORDINATION_CAPACITY CP2 WHERE CP2.ID=D.PARENT_ID AND CP2.WORKFLOW='VALIDATED' AND CP2.DESIGNATION!='AQ']]>
                </SQL>
            </ExpressionView>
        </Query>

        <Query alias="CP3JointProgrammes">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[select D.*, CP3.DESIGNATION, CP3.ENTITY_YEAR FROM CP3JOINT_PROGRAMMES D,  CP3COMMON_COUNTRY_PROGRAMMING CP3 WHERE CP3.ID=D.PARENT_ID AND CP3.WORKFLOW='VALIDATED' AND CP3.DESIGNATION!='AQ']]>
                </SQL>
            </ExpressionView>
        </Query>

        <Query alias="CP4BusinessOperationAreasDetails">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[
                        select BOS.*,
                            CASE WHEN BOS.HASMOU = TRUE THEN CAST(1 AS INT) ELSE CAST (0 AS INT) END as HASMOU_COUNT,
                            CASE WHEN BOS.HASLTA = TRUE THEN CAST(1 AS INT) ELSE CAST (0 AS INT) END as HASLTA_COUNT,
                            CASE WHEN LTA.LTA_EVALUATED = TRUE THEN CAST(1 AS INT) ELSE CAST (0 AS INT) END as LTA_EVALUATED_COUNT,
                            CASE WHEN BOS.HASMOU IS NULL THEN 'No' ELSE CASE WHEN BOS.HASMOU = FALSE THEN 'No' ELSE 'Yes' END END as HASMOU_YES_NO,
                            CASE WHEN BOS.HASLTA IS NULL THEN 'No' ELSE CASE WHEN BOS.HASLTA = FALSE THEN 'No' ELSE 'Yes' END END as HASLTA_YES_NO,
                            CASE WHEN LTA.LTA_EVALUATED IS NULL THEN 'No' ELSE CASE WHEN LTA.LTA_EVALUATED = FALSE THEN 'No' ELSE 'Yes' END END as LTA_EVALUATED_YES_NO,
                            CP4.DESIGNATION, CP4.ENTITY_YEAR, LTA.LTA_EVALUATED, LTA.MONETARY_VOLUME, LTA.DISCOUNT_RATE_APPLIED, LTA.ANNUAL_VALUE_OF_TOTAL_PROCUREMENT, LTA.MANAGEMENT_MODALITY_ID
                        from CP4BUSINESS_OPERATION_AREAS_DETAILS BOS, CP4COMMON_SERVICES_HARMONIZED_BUSINES_PRACTICES CP4, CP4LTADETAILS LTA
                        WHERE LTA.PARENT_ID=BOS.ID AND BOS.PARENT_ID=CP4.ID and CP4.WORKFLOW='VALIDATED' AND CP4.DESIGNATION!='AQ'
                    ]]>
                </SQL>
            </ExpressionView>
        </Query>

        <Query alias="CP7MDTF">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[select D.*, CP7.DESIGNATION, CP7.ENTITY_YEAR FROM CP7MTDF D, CP7JOINT_FUNDING_PROFILE CP7 WHERE CP7.ID=D.PARENT_ID AND CP7.WORKFLOW='VALIDATED' AND CP7.DESIGNATION!='AQ']]>
                </SQL>
            </ExpressionView>
        </Query>

        <Query alias="CP11BudgetSupport">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[select D.*, CP11.DESIGNATION, CP11.ENTITY_YEAR from CP11DEVELOPMENT_EFFECTIVENESS_PROFILE CP11, CP11DIRECT_BUDGET_SUPPORT D WHERE CP11.ID = D.PARENT_ID AND CP11.WORKFLOW='VALIDATED' AND CP11.DESIGNATION != 'AQ']]>
                </SQL>
            </ExpressionView>
        </Query>

        <Query alias="CP12HumanRightsTreatyBodies">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[select D.*, CP12.DESIGNATION, CP12.ENTITY_YEAR FROM CP12UNHRTREATY_BODY D, CP12HUMAN_RIGHTS_PROFILE CP12 WHERE CP12.ID=D.PARENT_ID AND CP12.WORKFLOW='VALIDATED' AND CP12.DESIGNATION!='AQ']]>
                </SQL>
            </ExpressionView>
        </Query>

        <Query alias="CP12SpecialProcedureHumanRightsCouncil">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[select D.*, CP12.DESIGNATION, CP12.ENTITY_YEAR FROM CP12VISIT_OF_SPECIAL_PROCEDUREHRC D, CP12HUMAN_RIGHTS_PROFILE CP12 WHERE CP12.ID=D.PARENT_ID AND CP12.WORKFLOW='VALIDATED' AND CP12.DESIGNATION!='AQ']]>
                </SQL>
            </ExpressionView>
        </Query>

        <Query alias="CP13GenderEqualityScorecard">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[select D.*, CP13.DESIGNATION, CP13.ENTITY_YEAR FROM CP13SCORECARD_AREA_SCORE D, CP13GENDER_PROFILE CP13 WHERE CP13.ID=D.PARENT_ID AND CP13.WORKFLOW='VALIDATED' AND CP13.DESIGNATION!='AQ']]>
                </SQL>
            </ExpressionView>
        </Query>

        <!--
        GLOBAL_CUBE is a view for this query:

        create view GLOBAL_CUBE as
            select cp1.ID as GLOBAL_ID, cp1.DESIGNATION as GLOBAL_DESIGNATION, cp1.ENTITY_YEAR as GLOBAL_ENTITY_YEAR, cp1.*
            from
                CP1GENERAL_PROFILE cp1,
                CP2COORDINATION_CAPACITY cp2,
                CP3COMMON_COUNTRY_PROGRAMMING cp3,
                CP4COMMON_SERVICES_HARMONIZED_BUSINES_PRACTICES cp4,
                CP5COMMON_PREMISES_PROFILE cp5,
                CP6JOINT_COMMUNICATION_ADVOCACY cp6,
                CP7JOINT_FUNDING_PROFILE cp7,
                CP8JOINT_LEADERSHIP_MANAGEMENT cp8,
                CP9POST_CRISIS_PROFILE cp9,
                CP10DELIVERING_AS_ONE_PROFILE cp10,
                CP11DEVELOPMENT_EFFECTIVENESS_PROFILE cp11,
                CP12HUMAN_RIGHTS_PROFILE cp12,
                CP13GENDER_PROFILE cp13,
                CP14EMERGING_ISSUES cp14
            WHERE
                cp1.DESIGNATION = cp2.DESIGNATION AND
                cp2.DESIGNATION = cp3.DESIGNATION AND
                cp3.DESIGNATION = cp4.DESIGNATION AND
                cp4.DESIGNATION = cp5.DESIGNATION AND
                cp5.DESIGNATION = cp6.DESIGNATION AND
                cp6.DESIGNATION = cp7.DESIGNATION AND
                cp7.DESIGNATION = cp8.DESIGNATION AND
                cp8.DESIGNATION = cp9.DESIGNATION AND
                cp9.DESIGNATION = cp10.DESIGNATION AND
                cp10.DESIGNATION = cp11.DESIGNATION AND
                cp11.DESIGNATION = cp12.DESIGNATION AND
                cp12.DESIGNATION = cp13.DESIGNATION AND
                cp13.DESIGNATION = cp14.DESIGNATION;
        -->

        <Query alias="GlobalCube">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[
                        select * from GLOBAL_CUBE
                    ]]>
                </SQL>
            </ExpressionView>
        </Query>

        <Query alias="WorkplanCube">
            <ExpressionView>
                <SQL dialect="generic">
                    <![CDATA[
                    SELECT
                        WORKPLAN.ID as WORKPLAN_ID,
                        WORKPLAN.DESIGNATION as WORKPLAN_DESIGNATION,
                        WORKPLAN.ENTITY_YEAR as WORKPLAN_ENTITY_YEAR,
                        WORKPLAN.WORKFLOW as WORKPLAN_WORKFLOW,
                        WORKSTREAM.ID as WORKSTREAM_ID,
                        WORKSTREAM.SECTION_ID WORKSTREAM_SECTION_ID,
                        OUTPUTS.ID as OUTPUTS_ID,
                        OUTPUTS.LEAD_UNIT_ID as OUTPUTS_LEAD_UNIT_ID,
                        AGENCY_ROLES.LEAD_AGENCY_ID as AGENCY_ROLES_LEAD_AGENCY_ID,
                        AGENCY_ROLES.ROLE_OF_PARTNERS as AGENCY_ROLES_ROLE_OF_PARTNERS,
                        ACTIVITY.ID as ACTIVITY_ID,
                        ACTIVITY.LEAD_UNIT_ID as ACTIVITY_LEAD_UNIT_ID,
                        CASE WHEN ACTIVITY.SELECT_AS_GOOD_PRACTICE IS NULL THEN 'No' ELSE CASE WHEN ACTIVITY.SELECT_AS_GOOD_PRACTICE = FALSE THEN 'No' ELSE 'Yes' END END as ACTIVITY_SELECT_AS_GOOD_PRACTICE,
                        BUDGET.ID as BUDGET_ID,
                        BUDGET.TYPE_ID as BUDGET_TYPE_ID,
                        BUDGET.REQUIRED_AMOUNT as BUDGET_EXPECTED,
                        BUDGET.SPENT_AMOUNT as BUDGET_ACTUAL
                    FROM WORKPLAN workplan
                        LEFT OUTER JOIN WORKSTREAM workstream ON workstream.WORKPLAN_ID = workplan.ID
                        LEFT OUTER JOIN OUTPUTS outputs ON outputs.WORKSTREAM_ID = workstream.ID
                        LEFT OUTER JOIN AGENCY_ROLES agency_roles ON agency_roles.OUTPUT_ID = outputs.ID
                        LEFT OUTER JOIN ACTIVITY activity ON activity.OUTPUT_ID = outputs.ID
                        LEFT OUTER JOIN BUDGET budget ON budget.ACTIVITY_ID = activity.ID
                    WHERE
                        workplan.DESIGNATION != 'AQ'
                    ]]>
                </SQL>
            </ExpressionView>
        </Query>
    </PhysicalSchema>

    <!--*************************************************************************
    ***** CP1 UNCT Members
    *************************************************************************-->
    <Cube name="CP1 UNCT Members" caption="CP1 UNCT Members" visible="true"
          cache="true" enabled="true">
        <Dimensions>
            <Dimension name="Regions" caption="Regions" table="BASE_COUNTRY"
                       key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ISO2"
                               hasHierarchy="false" levelType="Regular" datatype="Integer" />

                    <Attribute name="Region" caption="Region" keyColumn="REGION"
                               hasHierarchy="false" levelType="Regular" datatype="String" />

                    <Attribute name="Country" caption="Country" keyColumn="NAME"
                               hasHierarchy="false" levelType="Regular" datatype="String" />
                </Attributes>

                <Hierarchies>
                    <Hierarchy name="Regions" hasAll="true">
                        <Level attribute="Region"/>
                        <Level attribute="Country"/>
                    </Hierarchy>
                </Hierarchies>
            </Dimension>

            <Dimension name="Year" caption="Year" table="CP1UnctMember"
                       visible="true">
                <Attributes>
                    <Attribute name="Year" keyColumn="ENTITY_YEAR" datatype="Integer" />
                </Attributes>
            </Dimension>

            <Dimension name="UNAgency" caption="UNAgency" table="UNAgency"
                       key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ID"
                               hasHierarchy="false" levelType="Regular" datatype="Integer" />

                    <Attribute name="Agency" caption="Agency" keyColumn="LABEL"
                               hierarchyAllMemberName="All Agencies" hierarchyCaption="All Agencies"
                               levelType="Regular" datatype="String" />
                </Attributes>
            </Dimension>

            <Dimension name="RepresentativePostLevel" caption="Representative Post Level"
                       table="RepresentativePostLevelCategory" key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ID"
                               hasHierarchy="false" levelType="Regular" datatype="Integer" />

                    <Attribute name="RepresentativePostLevel" caption="Representative Post Level"
                               keyColumn="LABEL" hierarchyAllMemberName="All Representative Post Levels"
                               hierarchyCaption="All Representative Post Levels" levelType="Regular"
                               datatype="String" />
                </Attributes>
            </Dimension>
        </Dimensions>

        <MeasureGroups>
            <MeasureGroup name="CP UNCT Measures" table="CP1UnctMember">
                <Measures>
                    <Measure name="Count" caption="Number of UNCT Members" column="ID" datatype="Integer"
                             aggregator="distinct-count" visible="true" formatString="#,###"/>
                    <Measure name="NRA" caption="Non-Resident Agency Count" column="NON_RESIDENT_AGENCY"
                             datatype="Integer" aggregator="count" visible="true" />
                </Measures>
                <DimensionLinks>
                    <ForeignKeyLink dimension="UNAgency" foreignKeyColumn="AGENCY_ID" />
                    <ForeignKeyLink dimension="RepresentativePostLevel"
                                    foreignKeyColumn="REPRESENTATIVE_POST_LEVEL_ID" />
                    <ForeignKeyLink dimension="Regions" foreignKeyColumn="DESIGNATION"/>
                    <FactLink dimension="Year" />
                </DimensionLinks>
            </MeasureGroup>
        </MeasureGroups>
    </Cube>

    <!--*************************************************************************
    ***** CP2 RCO Staff Member Details
    *************************************************************************-->
    <Cube name="CP2RCOStaffMemberDetails" caption="CP2 RCO Staff Member Details" visible="true" cache="true" enabled="true">
        <Dimensions>
            <Dimension name="Regions" caption="Regions" table="BASE_COUNTRY"
                       key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ISO2"
                               hasHierarchy="false" levelType="Regular" datatype="Integer" />

                    <Attribute name="Region" caption="Region" keyColumn="REGION"
                               hasHierarchy="false" levelType="Regular" datatype="String" />

                    <Attribute name="Country" caption="Country" keyColumn="NAME"
                               hasHierarchy="false" levelType="Regular" datatype="String" />
                </Attributes>

                <Hierarchies>
                    <Hierarchy name="Regions" hasAll="true">
                        <Level attribute="Region"/>
                        <Level attribute="Country"/>
                    </Hierarchy>
                </Hierarchies>
            </Dimension>

            <Dimension name="Year" caption="Year" table="CP2RcoStaffMemberDetail" visible="true">
                <Attributes>
                    <Attribute name="Year" keyColumn="ENTITY_YEAR" datatype="Integer" />
                </Attributes>
            </Dimension>

            <Dimension name="OfficeType" caption="Office Type"  table="OfficeType"
                       key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ID" hasHierarchy="false"
                               levelType="Regular" datatype="Integer" />

                    <Attribute name="OfficeType" caption="Office Type" keyColumn="LABEL"
                               hierarchyAllMemberName="All Office Types" hierarchyCaption="All Office Types"
                               levelType="Regular" datatype="String" />
                </Attributes>
            </Dimension>

            <Dimension name="ContractModality" caption="Contract Modality" table="ContractModality"
                       key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ID" hasHierarchy="false"
                               levelType="Regular" datatype="Integer" />

                    <Attribute name="ContractModality" caption="Contract Modality" keyColumn="LABEL"
                               hierarchyAllMemberName="All Contract Modality" hierarchyCaption="All Contract Modality"
                               levelType="Regular" datatype="String" />
                </Attributes>
            </Dimension>

            <Dimension name="Level" caption="Level" table="Level" key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ID" hasHierarchy="false"
                               levelType="Regular" datatype="Integer" />

                    <Attribute name="Level" caption="Level" keyColumn="LABEL"
                               hierarchyAllMemberName="All Levels" hierarchyCaption="All Levels"
                               levelType="Regular" datatype="String" />
                </Attributes>
            </Dimension>

        </Dimensions>

        <MeasureGroups>
            <MeasureGroup name="CP2 RCOStaffMemberDetails Measures" table="CP2RcoStaffMemberDetail">
                <Measures>
                    <Measure name="Count" caption="Number of RCO Staff Members" column="ID" datatype="Integer"
                             aggregator="distinct-count" visible="true" formatString="#,###"/>

                    <Measure name="AverageAnnualNetSalaryAmount" caption="Average Annual Net Salary Amount"
                             column="ANNUAL_SALARY_AMOUNT" datatype="Numeric" aggregator="avg" visible="true" />

                    <Measure name="TotalAnnualNetSalaryAmount" caption="Total Annual Net Salary Amount"
                             column="ANNUAL_SALARY_AMOUNT" datatype="Numeric" aggregator="sum" visible="true" />

                    <Measure name="AverageContractDurationYears" caption="Average Contract Duration Years"
                             column="CONTRACT_DURATION_YEARS" datatype="Numeric" aggregator="avg" visible="true" />
                </Measures>

                <DimensionLinks>
                    <ForeignKeyLink dimension="OfficeType" foreignKeyColumn="OFFICE_TYPE_ID"/>
                    <ForeignKeyLink dimension="ContractModality" foreignKeyColumn="CONTRACT_MODALITY_ID"/>
                    <ForeignKeyLink dimension="Level" foreignKeyColumn="LEVEL_ID"/>
                    <ForeignKeyLink dimension="Regions" foreignKeyColumn="DESIGNATION"/>
                    <FactLink dimension="Year" />
                </DimensionLinks>
            </MeasureGroup>
        </MeasureGroups>
    </Cube>

    <!--*************************************************************************
    ***** CP3 Joint Programmes
    *************************************************************************-->
    <Cube name="CP3 Joint Programmes" caption="CP3 Joint Programmes" visible="true"
          cache="true" enabled="true">
        <Dimensions>
            <Dimension name="Regions" caption="Regions" table="BASE_COUNTRY"
                       key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ISO2"
                               hasHierarchy="false" levelType="Regular" datatype="Integer" />

                    <Attribute name="Region" caption="Region" keyColumn="REGION"
                               hasHierarchy="false" levelType="Regular" datatype="String" />

                    <Attribute name="Country" caption="Country" keyColumn="NAME"
                               hasHierarchy="false" levelType="Regular" datatype="String" />
                </Attributes>

                <Hierarchies>
                    <Hierarchy name="Regions" hasAll="true">
                        <Level attribute="Region"/>
                        <Level attribute="Country"/>
                    </Hierarchy>
                </Hierarchies>
            </Dimension>

            <Dimension name="Year" caption="Year" table="CP3JointProgrammes"
                       visible="true">
                <Attributes>
                    <Attribute name="Year" keyColumn="ENTITY_YEAR" datatype="Integer" />
                </Attributes>
            </Dimension>

            <Dimension name="Title" caption="Title of Joint Programme" table="CP3JointProgrammes"
                       visible="true">
                <Attributes>
                    <Attribute name="Title" caption="Title" keyColumn="TITLE"
                               levelType="Regular" datatype="String" />
                </Attributes>
            </Dimension>

        </Dimensions>

        <MeasureGroups>
            <MeasureGroup name="CP Joint Programmes Measures" table="CP3JointProgrammes">
                <Measures>
                    <Measure name="Count" caption="Number of UNCT Members" column="ID" datatype="Integer"
                             aggregator="distinct-count" visible="true" formatString="#,###"/>
                    <Measure name="Total Budget" caption="Total Budget (Currency USD)" column="TOTAL_BUDGET"
                             datatype="Numeric" aggregator="sum" visible="true" />
                </Measures>
                <DimensionLinks>
                    <FactLink dimension="Title"/>
                    <ForeignKeyLink dimension="Regions" foreignKeyColumn="DESIGNATION"/>
                    <FactLink dimension="Year" />
                </DimensionLinks>
            </MeasureGroup>
        </MeasureGroups>
    </Cube>

    <!--*************************************************************************
    ***** CP4 Business Operation Areas
    *************************************************************************-->
    <Cube name="CP4BOSAreas" caption="CP4 Business Operation Areas" visible="true" cache="true" enabled="true">
        <Dimensions>
            <Dimension name="Regions" caption="Regions" table="BASE_COUNTRY"
                       key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ISO2"
                               hasHierarchy="false" levelType="Regular" datatype="Integer" />

                    <Attribute name="Region" caption="Region" keyColumn="REGION"
                               hasHierarchy="false" levelType="Regular" datatype="String" />

                    <Attribute name="Country" caption="Country" keyColumn="NAME"
                               hasHierarchy="false" levelType="Regular" datatype="String" />
                </Attributes>

                <Hierarchies>
                    <Hierarchy name="Regions" hasAll="true">
                        <Level attribute="Region"/>
                        <Level attribute="Country"/>
                    </Hierarchy>
                </Hierarchies>
            </Dimension>

            <Dimension name="Year" caption="Year" table="CP4BusinessOperationAreasDetails"
                       visible="true">
                <Attributes>
                    <Attribute name="Year" keyColumn="ENTITY_YEAR" datatype="Integer" />
                </Attributes>
            </Dimension>

            <Dimension name="BusinessOperationArea" caption="Business Operation Area" table="BusinessOperationArea"
                       key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ID" hasHierarchy="false"
                               levelType="Regular" datatype="Integer" />

                    <Attribute name="BusinessOperationArea" caption="Business Operation Area" keyColumn="LABEL"
                               hierarchyAllMemberName="All Business Operation Area" hierarchyCaption="Business Operation Areas"
                               levelType="Regular" datatype="String" />
                </Attributes>
            </Dimension>

            <Dimension name="ManagementModality" caption="Management Modality" table="ManagementModality"
                       key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ID" hasHierarchy="false"
                               levelType="Regular" datatype="Integer" />

                    <Attribute name="ManagementModality" caption="Management Modality" keyColumn="LABEL"
                               hierarchyAllMemberName="All Management Modalities" hierarchyCaption="Management Modalities"
                               levelType="Regular" datatype="String" />
                </Attributes>
            </Dimension>

            <Dimension name="Has MOUs" caption="Has MOUs in Place?" table='CP4BusinessOperationAreasDetails' key="Dimension Id">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ID"
                               hasHierarchy="false"
                               levelType="Regular" datatype="Integer"/>

                    <Attribute name="Has MOUs" caption="Has MOUs in Place?" keyColumn="HASMOU_YES_NO"
                               levelType="Regular" datatype="Boolean"/>
                </Attributes>
            </Dimension>

            <Dimension name="Has LTA" caption="Has LTA?" table='CP4BusinessOperationAreasDetails' key="Dimension Id">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ID"
                               hasHierarchy="false"
                               levelType="Regular" datatype="Integer"/>

                    <Attribute name="Has LTA" caption="Has LTA?" keyColumn="HASLTA_YES_NO"
                               levelType="Regular" datatype="Boolean"/>
                </Attributes>
            </Dimension>

            <Dimension name="Has LTA evaluated" caption="Has LTA evaluated?" table='CP4BusinessOperationAreasDetails' key="Dimension Id">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ID"
                               hasHierarchy="false"
                               levelType="Regular" datatype="Integer"/>

                    <Attribute name="Has LTA evaluated" caption="Has LTA evaluated?" keyColumn="LTA_EVALUATED_YES_NO"
                               levelType="Regular" datatype="Boolean"/>
                </Attributes>
            </Dimension>

        </Dimensions>

        <MeasureGroups>
            <MeasureGroup name="CP4 BOS Areas Measures" table="CP4BusinessOperationAreasDetails">
                <Measures>
                    <Measure name="Count" caption="Number of Business Operation Areas" column="ID" datatype="Integer"
                             aggregator="distinct-count" visible="true" formatString="#,###"/>

                    <Measure name="hasMOU" caption="Count of MOUs in Place" column="HASMOU_COUNT"
                             datatype="Integer" aggregator="sum" visible="true" />

                    <Measure name="hasLTA" caption="Count of LTA" column="HASLTA_COUNT"
                             datatype="Integer" aggregator="sum" visible="true" />

                    <Measure name="ltaEvaluated" caption="Count of LTA evaluated" column="LTA_EVALUATED_COUNT"
                             datatype="Integer" aggregator="sum" visible="true" />

                    <Measure name="monetaryVolume" caption="Monetary Volume of LTAs" column="MONETARY_VOLUME"
                             datatype="Numeric" aggregator="sum" visible="true" />

                    <Measure name="annualValueOfTotalProcurement" caption="Annual Value of Total Procuremen" column="ANNUAL_VALUE_OF_TOTAL_PROCUREMENT"
                             datatype="Numeric" aggregator="sum" visible="true" />
                </Measures>

                <DimensionLinks>
                    <ForeignKeyLink dimension="BusinessOperationArea" foreignKeyColumn="BUSINESS_OPERATION_AREA_ID" />
                    <ForeignKeyLink dimension="ManagementModality" foreignKeyColumn="MANAGEMENT_MODALITY_ID" />
                    <ForeignKeyLink dimension="Regions" foreignKeyColumn="DESIGNATION"/>
                    <FactLink dimension="Has MOUs" />
                    <FactLink dimension="Has LTA" />
                    <FactLink dimension="Has LTA evaluated" />
                    <FactLink dimension="Year" />
                </DimensionLinks>
            </MeasureGroup>
        </MeasureGroups>
    </Cube>

    <!--*************************************************************************
    ***** CP7 MDTF
    *************************************************************************-->
    <Cube name="CP7MDTF" caption="CP7 MDTF" visible="true"
          cache="true" enabled="true">
        <Dimensions>
            <Dimension name="Regions" caption="Regions" table="BASE_COUNTRY"
                       key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ISO2"
                               hasHierarchy="false" levelType="Regular" datatype="Integer" />

                    <Attribute name="Region" caption="Region" keyColumn="REGION"
                               hasHierarchy="false" levelType="Regular" datatype="String" />

                    <Attribute name="Country" caption="Country" keyColumn="NAME"
                               hasHierarchy="false" levelType="Regular" datatype="String" />
                </Attributes>

                <Hierarchies>
                    <Hierarchy name="Regions" hasAll="true">
                        <Level attribute="Region"/>
                        <Level attribute="Country"/>
                    </Hierarchy>
                </Hierarchies>
            </Dimension>

            <Dimension name="Year" caption="Year" table="CP7MDTF"
                       visible="true">
                <Attributes>
                    <Attribute name="Year" keyColumn="ENTITY_YEAR" datatype="Integer" />
                </Attributes>
            </Dimension>

        </Dimensions>

        <MeasureGroups>
            <MeasureGroup name="CP MDTF Measures" table="CP7MDTF">
                <Measures>
                    <Measure name="Count" caption="Number of MDTFs" column="ID" datatype="Integer"
                             aggregator="distinct-count" visible="true" formatString="#,###"/>
                    <Measure name="Total Budget" caption="Total Budget (Currency USD)" column="TOTAL_BUDGET"
                             datatype="Numeric" aggregator="sum" visible="true" />
                </Measures>
                <DimensionLinks>
                    <ForeignKeyLink dimension="Regions" foreignKeyColumn="DESIGNATION"/>
                    <FactLink dimension="Year" />
                </DimensionLinks>
            </MeasureGroup>
        </MeasureGroups>
    </Cube>

    <!--*************************************************************************
    ***** CP11 Budget Support
    *************************************************************************-->
    <Cube name="CP11 Budget Support" caption="CP11 Budget Support" visible="true"
          cache="true" enabled="true">
        <Dimensions>
            <Dimension name="Regions" caption="Regions" table="BASE_COUNTRY"
                       key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ISO2"
                               hasHierarchy="false" levelType="Regular" datatype="Integer" />

                    <Attribute name="Region" caption="Region" keyColumn="REGION"
                               hasHierarchy="false" levelType="Regular" datatype="String" />

                    <Attribute name="Country" caption="Country" keyColumn="NAME"
                               hasHierarchy="false" levelType="Regular" datatype="String" />
                </Attributes>

                <Hierarchies>
                    <Hierarchy name="Regions" hasAll="true">
                        <Level attribute="Region"/>
                        <Level attribute="Country"/>
                    </Hierarchy>
                </Hierarchies>
            </Dimension>

            <Dimension name="Year" caption="Year" table="CP11BudgetSupport"
                       visible="true">
                <Attributes>
                    <Attribute name="Year" keyColumn="ENTITY_YEAR" datatype="Integer" />
                </Attributes>
            </Dimension>

            <Dimension name="Sector" caption="Sector" table="Sector"
                       key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ID"
                               hasHierarchy="false" levelType="Regular" datatype="Integer" />

                    <Attribute name="Sector" caption="Sector" keyColumn="LABEL"
                               hierarchyAllMemberName="All Sectors" hierarchyCaption="All Sectors"
                               levelType="Regular" datatype="String" />
                </Attributes>
            </Dimension>
        </Dimensions>

        <MeasureGroups>
            <MeasureGroup name="CP Budget Support Measures" table="CP11BudgetSupport">
                <Measures>
                    <Measure name="Count" caption="Number of Budget Supports" column="ID" datatype="Integer"
                             aggregator="distinct-count" visible="true" formatString="#,###"/>

                    <Measure name="Budget Support" caption="Budget Support" column="BUDGETED_AMOUNT"
                             datatype="Numeric" aggregator="sum" visible="true" />
                </Measures>
                <DimensionLinks>
                    <ForeignKeyLink dimension="Sector" foreignKeyColumn="SECTOR_ID" />
                    <ForeignKeyLink dimension="Regions" foreignKeyColumn="DESIGNATION"/>
                    <FactLink dimension="Year" />
                </DimensionLinks>
            </MeasureGroup>
        </MeasureGroups>
    </Cube>

    <!--*************************************************************************
    ***** CP12 Human Rights Treaty Bodies
    *************************************************************************-->
    <Cube name="CP12 Human Rights Treaty Bodies" caption="CP12 Human Rights Treaty Bodies" visible="true"
          cache="true" enabled="true">
        <Dimensions>
            <Dimension name="Regions" caption="Regions" table="BASE_COUNTRY"
                       key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ISO2"
                               hasHierarchy="false" levelType="Regular" datatype="Integer" />

                    <Attribute name="Region" caption="Region" keyColumn="REGION"
                               hasHierarchy="false" levelType="Regular" datatype="String" />

                    <Attribute name="Country" caption="Country" keyColumn="NAME"
                               hasHierarchy="false" levelType="Regular" datatype="String" />
                </Attributes>

                <Hierarchies>
                    <Hierarchy name="Regions" hasAll="true">
                        <Level attribute="Region"/>
                        <Level attribute="Country"/>
                    </Hierarchy>
                </Hierarchies>
            </Dimension>

            <Dimension name="Year" caption="Year" table="CP12HumanRightsTreatyBodies"
                       visible="true">
                <Attributes>
                    <Attribute name="Year" keyColumn="ENTITY_YEAR" datatype="Integer" />
                </Attributes>
            </Dimension>

            <Dimension name="UNHRTreatyBody" caption="UN HR Treaty Body" table="UNHRTreatyBody"
                       key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ID"
                               hasHierarchy="false" levelType="Regular" datatype="Integer" />

                    <Attribute name="UN HR Treaty Body" caption="UN HR Treaty Body" keyColumn="LABEL"
                               hierarchyAllMemberName="All UNHRTreatyBody" hierarchyCaption="All UNHRTreatyBody"
                               levelType="Regular" datatype="String" />
                </Attributes>
            </Dimension>
        </Dimensions>

        <MeasureGroups>
            <MeasureGroup name="CP Human Rights Treaty Bodies Measures" table="CP12HumanRightsTreatyBodies">
                <Measures>
                    <Measure name="Count" caption="Number of Human Rights Measures" column="ID" datatype="Integer"
                             aggregator="distinct-count" visible="true" formatString="#,###"/>
                    <Measure name="hasEngagedDevelopNatlCapacityToReport" caption="Count of UNCT engaged in developing national capacity to develop a report to the treaty body" column="HAS_ENGAGED_DEVELOP_NATL_CAPACITY_TO_REPORT"
                             datatype="Integer" aggregator="count" visible="true" />
                    <Measure name="hasFacilitatedFollowupRecommendations" caption="Count of UNCT facilitated follow up of the recommendations by the Government" column="HAS_FACILITATED_FOLLOWUP_RECOMMENDATIONS"
                             datatype="Integer" aggregator="count" visible="true" />
                </Measures>
                <DimensionLinks>
                    <ForeignKeyLink dimension="UNHRTreatyBody" foreignKeyColumn="UNHR_TREATY_BODY_TYPE_ID" />
                    <ForeignKeyLink dimension="Regions" foreignKeyColumn="DESIGNATION"/>
                    <FactLink dimension="Year" />
                </DimensionLinks>
            </MeasureGroup>
        </MeasureGroups>
    </Cube>

    <!--*************************************************************************
    ***** CP12 Special Procedure of Human Rights Council
    *************************************************************************-->
    <Cube name="CP12 Special Procedure of Human Rights Council" caption="CP12 Special Procedure of Human Rights Council" visible="true"
          cache="true" enabled="true">
        <Dimensions>
            <Dimension name="Regions" caption="Regions" table="BASE_COUNTRY"
                       key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ISO2"
                               hasHierarchy="false" levelType="Regular" datatype="Integer" />

                    <Attribute name="Region" caption="Region" keyColumn="REGION"
                               hasHierarchy="false" levelType="Regular" datatype="String" />

                    <Attribute name="Country" caption="Country" keyColumn="NAME"
                               hasHierarchy="false" levelType="Regular" datatype="String" />
                </Attributes>

                <Hierarchies>
                    <Hierarchy name="Regions" hasAll="true">
                        <Level attribute="Region"/>
                        <Level attribute="Country"/>
                    </Hierarchy>
                </Hierarchies>
            </Dimension>

            <Dimension name="Year" caption="Year" table="CP12SpecialProcedureHumanRightsCouncil"
                       visible="true">
                <Attributes>
                    <Attribute name="Year" keyColumn="ENTITY_YEAR" datatype="Integer" />
                </Attributes>
            </Dimension>

            <Dimension name="Name" caption="Name of special procedure" table="CP12SpecialProcedureHumanRightsCouncil"
                       visible="true">
                <Attributes>
                    <Attribute name="Name" caption="Name" keyColumn="NAME"
                               levelType="Regular" datatype="String" />
                </Attributes>
            </Dimension>
        </Dimensions>

        <MeasureGroups>
            <MeasureGroup name="CP Special Procedure of Human Rights Council" table="CP12SpecialProcedureHumanRightsCouncil">
                <Measures>
                    <Measure name="Count" caption="Number of Special Procedure of HRC" column="ID" datatype="Integer"
                             aggregator="distinct-count" visible="true" formatString="#,###"/>
                    <Measure name="unctSupported" caption="Count of UNCT support this visit" column="UNCT_SUPPORTED"
                             datatype="Integer" aggregator="count" visible="true" />
                    <Measure name="hasFacilitatedFollowupRecommendations" caption="Count of UNCT facilitate follow up of the recommendations by the Government" column="HAS_FACILITATED_FOLLOWUP_RECOMMENDATIONS"
                             datatype="Integer" aggregator="count" visible="true" />
                </Measures>
                <DimensionLinks>
                    <ForeignKeyLink dimension="Regions" foreignKeyColumn="DESIGNATION"/>
                    <FactLink dimension="Year" />
                    <FactLink dimension="Name" />
                </DimensionLinks>
            </MeasureGroup>
        </MeasureGroups>
    </Cube>

    <!--*************************************************************************
    ***** CP13 Gender Equality Scorecard
    *************************************************************************-->
    <Cube name="CP13 Gender Equality Scorecard" caption="CP13 Gender Equality Scorecard" visible="true"
          cache="true" enabled="true">
        <Dimensions>
            <Dimension name="Regions" caption="Regions" table="BASE_COUNTRY"
                       key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ISO2"
                               hasHierarchy="false" levelType="Regular" datatype="Integer" />

                    <Attribute name="Region" caption="Region" keyColumn="REGION"
                               hasHierarchy="false" levelType="Regular" datatype="String" />

                    <Attribute name="Country" caption="Country" keyColumn="NAME"
                               hasHierarchy="false" levelType="Regular" datatype="String" />
                </Attributes>

                <Hierarchies>
                    <Hierarchy name="Regions" hasAll="true">
                        <Level attribute="Region"/>
                        <Level attribute="Country"/>
                    </Hierarchy>
                </Hierarchies>
            </Dimension>

            <Dimension name="Year" caption="Year" table="CP13GenderEqualityScorecard"
                       visible="true">
                <Attributes>
                    <Attribute name="Year" keyColumn="ENTITY_YEAR" datatype="Integer" />
                </Attributes>
            </Dimension>

            <Dimension name="Scorecard" caption="Scorecard" table="Scorecard"
                       key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ID"
                               hasHierarchy="false" levelType="Regular" datatype="Integer" />

                    <Attribute name="Scorecard" caption="Scorecard" keyColumn="LABEL"
                               hierarchyAllMemberName="All Scorecards" hierarchyCaption="All Scorecards"
                               levelType="Regular" datatype="String" />
                </Attributes>
            </Dimension>

            <Dimension name="GenderEqualityRating" caption="GenderEqualityRating" table="GenderEqualityRating"
                       key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ID"
                               hasHierarchy="false" levelType="Regular" datatype="Integer" />

                    <Attribute name="GenderEqualityRating" caption="GenderEqualityRating" keyColumn="LABEL"
                               hierarchyAllMemberName="All GenderEqualityRatings" hierarchyCaption="All GenderEqualityRatings"
                               levelType="Regular" datatype="String" />
                </Attributes>
            </Dimension>
        </Dimensions>

        <MeasureGroups>
            <MeasureGroup name="CP Gender Equality Scorecard" table="CP13GenderEqualityScorecard">
                <Measures>
                    <Measure name="Count" caption="Number of Gender Equality Scorecard" column="ID" datatype="Integer"
                             aggregator="distinct-count" visible="true" formatString="#,###"/>
                    <Measure name="hasUNCTDevelopedManagementPlan" caption="Count of UNCT address the recommendations for the scorecard" column="HASUNCTDEVELOPED_MANAGEMENT_PLAN"
                             datatype="Integer" aggregator="count" visible="true" />
                </Measures>
                <DimensionLinks>
                    <ForeignKeyLink dimension="Scorecard" foreignKeyColumn="SCORECARD_ID" />
                    <ForeignKeyLink dimension="GenderEqualityRating" foreignKeyColumn="GENDER_EQUALITY_RATING_ID" />
                    <ForeignKeyLink dimension="Regions" foreignKeyColumn="DESIGNATION"/>
                    <FactLink dimension="Year" />
                </DimensionLinks>
            </MeasureGroup>
        </MeasureGroups>
    </Cube>

    <!--*************************************************************************
    ***** Global Cube
    *************************************************************************-->
    <Cube name="Global Cube" caption="Global Cube" visible="true"
          cache="true" enabled="true">
        <Dimensions>
            <Dimension name="Country" caption="Country" table="BASE_COUNTRY"
                       key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ISO2"
                               hasHierarchy="false" levelType="Regular" datatype="Integer" />

                    <Attribute name="Country" caption="Country" keyColumn="NAME"
                               hierarchyAllMemberName="All Countries" hierarchyCaption="All Countries"
                               levelType="Regular" datatype="String" />
                </Attributes>
            </Dimension>

            <Dimension name="Year" caption="Year" table="GlobalCube"
                       visible="true">
                <Attributes>
                    <Attribute name="Year" keyColumn="GLOBAL_ENTITY_YEAR" datatype="Integer" />
                </Attributes>
            </Dimension>

            <Dimension name="SoP1question" caption="SoP1 Question" table="SOP1q"
                       key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ID"
                               hasHierarchy="false" levelType="Regular" datatype="Integer" />

                    <Attribute name="SoP1question" caption="SoP1 Question" keyColumn="LABEL"
                               levelType="Regular" datatype="String" />
                </Attributes>
            </Dimension>
            <Dimension name="SoP2question" caption="SoP2 Question" table="SOP2q"
                       key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ID"
                               hasHierarchy="false" levelType="Regular" datatype="Integer" />

                    <Attribute name="SoP2question" caption="SoP2 Question" keyColumn="LABEL"
                               levelType="Regular" datatype="String" />
                </Attributes>
            </Dimension>
            <Dimension name="SoP3question" caption="SoP3 Question" table="SOP3q"
                       key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ID"
                               hasHierarchy="false" levelType="Regular" datatype="Integer" />

                    <Attribute name="SoP3question" caption="SoP3 Question" keyColumn="LABEL"
                               levelType="Regular" datatype="String" />
                </Attributes>
            </Dimension>
            <Dimension name="SoP4question" caption="SoP4 Question" table="SOP4q"
                       key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ID"
                               hasHierarchy="false" levelType="Regular" datatype="Integer" />

                    <Attribute name="SoP4question" caption="SoP4 Question" keyColumn="LABEL"
                               levelType="Regular" datatype="String" />
                </Attributes>
            </Dimension>
            <Dimension name="SoP5question" caption="SoP5 Question" table="SOP5q"
                       key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ID"
                               hasHierarchy="false" levelType="Regular" datatype="Integer" />

                    <Attribute name="SoP5question" caption="SoP5 Question" keyColumn="LABEL"
                               levelType="Regular" datatype="String" />
                </Attributes>
            </Dimension>
            <Dimension name="SoP6question" caption="SoP6 Question" table="SOP6q"
                       key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ID"
                               hasHierarchy="false" levelType="Regular" datatype="Integer" />

                    <Attribute name="SoP6question" caption="SoP6 Question" keyColumn="LABEL"
                               levelType="Regular" datatype="String" />
                </Attributes>
            </Dimension>
            <Dimension name="SoP7question" caption="SoP7 Question" table="SOP7q"
                       key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ID"
                               hasHierarchy="false" levelType="Regular" datatype="Integer" />

                    <Attribute name="SoP7question" caption="SoP7 Question" keyColumn="LABEL"
                               levelType="Regular" datatype="String" />
                </Attributes>
            </Dimension>
            <Dimension name="SoP8question" caption="SoP8 Question" table="SOP8q"
                       key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ID"
                               hasHierarchy="false" levelType="Regular" datatype="Integer" />

                    <Attribute name="SoP8question" caption="SoP8 Question" keyColumn="LABEL"
                               levelType="Regular" datatype="String" />
                </Attributes>
            </Dimension>
            <Dimension name="SoP9question" caption="SoP9 Question" table="SOP9q"
                       key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ID"
                               hasHierarchy="false" levelType="Regular" datatype="Integer" />

                    <Attribute name="SoP9question" caption="SoP9 Question" keyColumn="LABEL"
                               levelType="Regular" datatype="String" />
                </Attributes>
            </Dimension>
            <Dimension name="SoP10question" caption="SoP10 Question" table="SOP10q"
                       key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ID"
                               hasHierarchy="false" levelType="Regular" datatype="Integer" />

                    <Attribute name="SoP10question" caption="SoP10 Question" keyColumn="LABEL"
                               levelType="Regular" datatype="String" />
                </Attributes>
            </Dimension>
            <Dimension name="SoP11question" caption="SoP11 Question" table="SOP11q"
                       key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ID"
                               hasHierarchy="false" levelType="Regular" datatype="Integer" />

                    <Attribute name="SoP11question" caption="SoP11 Question" keyColumn="LABEL"
                               levelType="Regular" datatype="String" />
                </Attributes>
            </Dimension>
            <Dimension name="SoP12question" caption="SoP12 Question" table="SOP12q"
                       key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ID"
                               hasHierarchy="false" levelType="Regular" datatype="Integer" />

                    <Attribute name="SoP12question" caption="SoP12 Question" keyColumn="LABEL"
                               levelType="Regular" datatype="String" />
                </Attributes>
            </Dimension>
            <Dimension name="SoP13question" caption="SoP13 Question" table="SOP13q"
                       key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ID"
                               hasHierarchy="false" levelType="Regular" datatype="Integer" />

                    <Attribute name="SoP13question" caption="SoP13 Question" keyColumn="LABEL"
                               levelType="Regular" datatype="String" />
                </Attributes>
            </Dimension>
            <Dimension name="SoP14question" caption="SoP14 Question" table="SOP14q"
                       key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ID"
                               hasHierarchy="false" levelType="Regular" datatype="Integer" />

                    <Attribute name="SoP14question" caption="SoP14 Question" keyColumn="LABEL"
                               levelType="Regular" datatype="String" />
                </Attributes>
            </Dimension>
            <Dimension name="SoP15question" caption="SoP15 Question" table="SOP15q"
                       key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ID"
                               hasHierarchy="false" levelType="Regular" datatype="Integer" />

                    <Attribute name="SoP15question" caption="SoP15 Question" keyColumn="LABEL"
                               levelType="Regular" datatype="String" />
                </Attributes>
            </Dimension>
        </Dimensions>

        <MeasureGroups>
            <MeasureGroup name="Global Measures" table="GlobalCube">
                <Measures>
                    <Measure name="Count" caption="Number of Countries" column="GLOBAL_ID" datatype="Integer"
                             aggregator="distinct-count" visible="true" formatString="#,###"/>
                </Measures>
                <DimensionLinks>
                    <ForeignKeyLink dimension="SoP1question" foreignKeyColumn="HAS_JOINT_OVERSIGHT_OWNERSHIP_GOVUN_ID"/>
                    <ForeignKeyLink dimension="SoP2question" foreignKeyColumn="HAS_ANNUAL_REPORTING_JOINTUNRESULTS_ID"/>
                    <ForeignKeyLink dimension="SoP3question" foreignKeyColumn="HAS_SIGNEDUNDAFOUTCOME_LEVEL_LEGAL_TEXT_ID"/>
                    <ForeignKeyLink dimension="SoP4question" foreignKeyColumn="HAS_JOINT_ANNUAL_WORK_PLANS_ID"/>
                    <ForeignKeyLink dimension="SoP5question" foreignKeyColumn="HAS_RESULTS_GROUPS_ID"/>
                    <ForeignKeyLink dimension="SoP6question" foreignKeyColumn="HAS_MID_TERM_COMM_BUDGET_FRAMEWORK_ID"/>
                    <ForeignKeyLink dimension="SoP7question" foreignKeyColumn="HAS_ANNUAL_COMM_BUDGET_FRAMEWORK_ID"/>
                    <ForeignKeyLink dimension="SoP8question" foreignKeyColumn="HAS_JOINT_RESOURCE_MOBILISATION_STRATEGY_ID"/>
                    <ForeignKeyLink dimension="SoP9question" foreignKeyColumn="HAS_COMMITMENT_AND_INCETIVES_TOWARDS_COMMON_RESULTS_ID"/>
                    <ForeignKeyLink dimension="SoP10question" foreignKeyColumn="HAS_EMPOWEREDUNCTJOINT_DECISIONS_PROGR_ACTIVITIES_ID"/>
                    <ForeignKeyLink dimension="SoP11question" foreignKeyColumn="HASBOSSTRATEGY_ID"/>
                    <ForeignKeyLink dimension="SoP12question" foreignKeyColumn="HAS_EMPOWERED_OPS_MANAGEMENT_TEAM_ID"/>
                    <ForeignKeyLink dimension="SoP13question" foreignKeyColumn="HAS_OPERATIONS_COSTS_BUDGETS_INTEGRATED_ID"/>
                    <ForeignKeyLink dimension="SoP14question" foreignKeyColumn="HAS_JOINT_COMM_STRATEGY_ID"/>
                    <ForeignKeyLink dimension="SoP15question" foreignKeyColumn="HAS_COUNTRY_COMM_GROUP_ID"/>
                    <ForeignKeyLink dimension="Country" foreignKeyColumn="GLOBAL_DESIGNATION"/>
                    <FactLink dimension="Year" />
                </DimensionLinks>
            </MeasureGroup>
        </MeasureGroups>
    </Cube>

    <!--*************************************************************************
    ***** Workplan Cube
    *************************************************************************-->
    <Cube name="Workplan" caption="Workplan Analysis" visible="true" cache="true" enabled="true">
        <!-- Define dimensions and attributes -->
        <Dimensions>
            <Dimension name="Workflow" caption="Workflow" table='WorkplanCube' key="Dimension Id" visible="true">
                <Attributes>
                    <!-- by default we also have visible="false" when hasHierarchy="false" -->
                    <Attribute name="Dimension Id" keyColumn="WORKPLAN_ID"
                               hasHierarchy="false"
                               levelType="Regular" datatype="Integer"/>

                    <Attribute name="Workflow" caption="Workflow" keyColumn="WORKPLAN_WORKFLOW"
                               hierarchyAllMemberName="All workflows" hierarchyCaption="All workflows"
                               levelType="Regular" datatype="String"/>
                </Attributes>
            </Dimension>

            <Dimension name="Regions" caption="Regions" table="BASE_COUNTRY"
                       key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ISO2"
                               hasHierarchy="false" levelType="Regular" datatype="Integer" />

                    <Attribute name="Region" caption="Region" keyColumn="REGION"
                               hasHierarchy="false" levelType="Regular" datatype="String" />

                    <Attribute name="Country" caption="Country" keyColumn="NAME"
                               hasHierarchy="false" levelType="Regular" datatype="String" />
                </Attributes>

                <Hierarchies>
                    <Hierarchy name="Regions" hasAll="true">
                        <Level attribute="Region"/>
                        <Level attribute="Country"/>
                    </Hierarchy>
                </Hierarchies>
            </Dimension>

            <Dimension name="Year" caption="Year" table="WorkplanCube"
                       visible="true">
                <Attributes>
                    <Attribute name="Year" keyColumn="WORKPLAN_ENTITY_YEAR" datatype="Integer" />
                </Attributes>
            </Dimension>

            <Dimension name="WorkstreamSection" caption="Workstream Section" table="WorkstreamSection"
                       key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ID"
                               hasHierarchy="false" levelType="Regular" datatype="Integer" />

                    <Attribute name="WorkstreamSection" caption="Section name" keyColumn="LABEL"
                               levelType="Regular" datatype="String" />
                </Attributes>
            </Dimension>

            <Dimension name="Lead Agency" caption="Lead Agency" table='CATEGORY' key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ID"
                               hasHierarchy="false"
                               levelType="Regular" datatype="Integer"/>

                    <Attribute name="Lead Agency" caption="Lead Agency" keyColumn="LABEL"
                               hierarchyAllMemberName="All Lead Agencies" hierarchyCaption="All Lead Agencies"
                               levelType="Regular" datatype="String"/>
                </Attributes>
            </Dimension>

            <Dimension name="Role of partners" table='WorkplanCube' key="Dimension Id">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="AGENCY_ROLES_LEAD_AGENCY_ID"
                               hasHierarchy="false"
                               levelType="Regular" datatype="Integer"/>

                    <Attribute name="Role of partners" caption="Role of partners" keyColumn="AGENCY_ROLES_ROLE_OF_PARTNERS"
                               hierarchyAllMemberName="All roles" hierarchyCaption="All roles"
                               levelType="Regular" datatype="String"/>
                </Attributes>
            </Dimension>

            <Dimension name="Is good practice?" table='WorkplanCube' key="Dimension Id">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ACTIVITY_ID"
                               hasHierarchy="false"
                               levelType="Regular" datatype="Integer"/>

                    <Attribute name="Is good practice?" caption="Is good practice?" keyColumn="ACTIVITY_SELECT_AS_GOOD_PRACTICE"
                               hierarchyAllMemberName="All good practice" hierarchyCaption="All good practice"
                               levelType="Regular" datatype="Boolean"/>
                </Attributes>
            </Dimension>

            <Dimension name="Budget Type" caption="Budget Type" table='CATEGORY' key="Dimension Id" visible="true">
                <Attributes>
                    <Attribute name="Dimension Id" keyColumn="ID"
                               hasHierarchy="false"
                               levelType="Regular" datatype="Integer"/>

                    <Attribute name="Budget Type" caption="Budget Type" keyColumn="LABEL"
                               hierarchyAllMemberName="All budget types" hierarchyCaption="All budget types"
                               levelType="Regular" datatype="String"/>
                </Attributes>
            </Dimension>

        </Dimensions>

        <!-- Define Measures -->
        <MeasureGroups>
            <MeasureGroup name="Workplan Measures" table="WorkplanCube">
                <Measures>
                    <Measure name="Count" caption="Number of workplans" column="WORKPLAN_ID" datatype="Integer" aggregator="distinct-count" visible="true" formatString="#,###"/>
                    <Measure name="Expected Budget" caption="Expected Budget" column="BUDGET_EXPECTED" datatype="Numeric" aggregator="sum" visible="true" formatString="#,###"/>
                    <Measure name="Actual Budget" caption="Actual Budget" column="BUDGET_ACTUAL" datatype="Numeric" aggregator="sum" visible="true" formatString="#,###"/>
                </Measures>
                <DimensionLinks>
                    <FactLink dimension="Workflow" />
                    <FactLink dimension="Year" />
                    <FactLink dimension="Role of partners" />
                    <FactLink dimension="Is good practice?" />
                    <ForeignKeyLink dimension="Regions" foreignKeyColumn="WORKPLAN_DESIGNATION"/>
                    <ForeignKeyLink dimension="WorkstreamSection" foreignKeyColumn="WORKSTREAM_SECTION_ID"/>
                    <ForeignKeyLink dimension="Lead Agency" foreignKeyColumn="AGENCY_ROLES_LEAD_AGENCY_ID"/>
                    <ForeignKeyLink dimension="Budget Type" foreignKeyColumn="BUDGET_TYPE_ID"/>
                </DimensionLinks>
            </MeasureGroup>
        </MeasureGroups>

    </Cube>
</Schema>

